(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},16:function(t,e,a){},18:function(t,e,a){},20:function(t,e,a){},22:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(7),c=a.n(s),r=(a(14),a(1)),l=a(2),o=a(4),u=a(3),m=a(5),h=(a(16),a(18),null),d=1e5,p=null,v=null,f=0,w=1,g=2,b=Array(g).fill().map(function(t,e){return{index:e}});function E(t){return Array(t).fill().map(function(){return[0,0]})}var y=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).listRef=i.a.createRef(),a.state={animateStatus:0,listData:b,inputValue:0},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(){this.updateAnimateStatus()}},{key:"updateAnimateStatus",value:function(){var t=this;if(1===this.state.animateStatus){var e=0===f?1:0;p.forEach(function(a,n){v=a.getBoundingClientRect(),h[n+e][0]=h[n+e][0]-v.left,h[n+e][1]=h[n+e][1]-v.top,0!==h[n+e][1]&&t.state.listData.some(function(t,a){return n+e+d===a&&(t.zIndex=w++,!0)})}),this.setState({animateStatus:2})}else 2===this.state.animateStatus&&(h=E(this.state.listData.length),setTimeout(function(){t.setState({animateStatus:3})},0))}},{key:"updateItem",value:function(t,e){f=t,d=e,p=Array.prototype.slice.call(this.listRef.current.children).slice(d+(0===f?0:1));var a=0===f?1:0;h=E(p.length+a),p.forEach(function(t,e){v=t.getBoundingClientRect(),h[e+a][0]=v.left,h[e+a][1]=v.top});var n=null;n=0===f?this.state.listData.slice(0,d).concat({index:g++},this.state.listData.slice(d)):this.state.listData.filter(function(t,e){return e!==d}),this.setState({animateStatus:1,listData:n})}},{key:"inputIndex",value:function(t){var e=+t.target.value;e>this.state.listData.length&&(console.log("\u65b0\u589eitem\u7684 index\u4e0d\u80fd\u8d85\u8fc7 listData\u7684\u957f\u5ea6"),e=this.state.listData.length),this.setState({inputValue:e,animateStatus:0})}},{key:"render",value:function(){var t=this,e=this.state,a=e.animateStatus,n=e.inputValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"card-list",ref:this.listRef},this.state.listData.map(function(e,n){return i.a.createElement("li",{key:e.index,className:"card-item".concat(n>=d&&3===a?" active":""),style:Object.assign({zIndex:e.zIndex||"auto"},n>=d&&a>1?{transform:"translate(".concat(h[n-d][0],"px, ").concat(h[n-d][1],"px)")}:null)},i.a.createElement("div",{className:"card-title"},i.a.createElement("h3",null,"Title - ",e.index),i.a.createElement("span",{onClick:t.updateItem.bind(t,1,n),className:"icon-btn",title:"\u70b9\u51fb\u5220\u9664"},"Delete")),i.a.createElement("div",{className:"card-content"},i.a.createElement("p",{className:"content"},"content - ",e.index),i.a.createElement("p",{className:"content"},"content - ",e.index),i.a.createElement("p",{className:"content"},"content - ",e.index)))})),i.a.createElement("hr",null),i.a.createElement("div",{className:"update-count"},i.a.createElement("input",{onChange:this.inputIndex.bind(this),value:n,type:"number"}),i.a.createElement("button",{onClick:this.updateItem.bind(this,0,n)},"\u589e\u52a0")))}}]),e}(i.a.Component),S=(a(20),3),k=null,x=[0,0],I=[0,0],C=null,O=1,j=Array(10).fill().map(function(){var t=N(),e=N();return{width:t,height:e,bgPic:"https://dummyimage.com/".concat(t,"x").concat(e,"/").concat(("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6))}});function N(){return Math.round(700*Math.random()+200)}var D=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).previewRef=i.a.createRef(),a.state={previewStatus:0,previewImgInfo:null},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidUpdate",value:function(){this.updatePreviewStatus()}},{key:"updatePreviewStatus",value:function(){var t=this;if(1===this.state.previewStatus){if(1===S){var e=this.previewRef.current.getBoundingClientRect();I[0]=e.left,I[1]=e.top,O=C.width/e.width}this.setState({previewStatus:2})}else 2===this.state.previewStatus&&setTimeout(function(){t.setState({previewStatus:3})},0)}},{key:"previewItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;1===(S=t)?(k=a.target,C=k.getBoundingClientRect(),x[0]=C.left,x[1]=C.top,this.setState({previewImgInfo:e,previewStatus:1})):this.setState({previewStatus:1})}},{key:"transEnd",value:function(t){2===S&&3!==S&&(S=3,this.setState({previewStatus:0}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.previewStatus,n=e.previewImgInfo;return i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"pic-list"},j.map(function(e,a){return i.a.createElement("li",{key:a,className:"pic-item",onClick:t.previewItem.bind(t,1,e),title:"\u70b9\u51fb\u9884\u89c8"},i.a.createElement("img",{src:e.bgPic,alt:"",className:"pic"}))})),1===S||2===S?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"preview-box",onClick:this.previewItem.bind(this,2),style:{opacity:3===a&&2!==S?.65:0}}),i.a.createElement("img",{ref:this.previewRef,className:"img".concat(3===a&&1===S||2===S?" active":""),src:n.bgPic,style:{transform:2===a||2===S?"translate3d(".concat(x[0]-I[0],"px, ").concat(x[1]-I[1],"px, 0) scale(").concat(O,")"):"translate3d(0, 0, 0) scale(1)",transformOrigin:"0 0"},onClick:this.previewItem.bind(this,2),onTransitionEnd:this.transEnd.bind(this),alt:""})):null)}}]),e}(i.a.Component),R=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(o.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={showIndex:0},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=window.location.search.match(/showIndex=(\d)/);t&&this.setState({showIndex:+t[1]})}},{key:"changeCor",value:function(t){this.setState({showIndex:t})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"route"},i.a.createElement("span",{onClick:this.changeCor.bind(this,0)},"\u70b9\u51fb\u5207\u6362\u5230 \u5361\u7247\u589e\u5220\u52a8\u6548"),i.a.createElement("span",{onClick:this.changeCor.bind(this,1)},"\u70b9\u51fb\u5207\u6362\u5230 \u56fe\u7247\u653e\u5927\u9884\u89c8/\u6d3b\u80a4\u52a8\u6548")),i.a.createElement("hr",null),0===this.state.showIndex?i.a.createElement(y,null):i.a.createElement(D,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,a){t.exports=a(22)}},[[8,2,1]]]);
//# sourceMappingURL=main.91808e3a.chunk.js.map